ERIM_ROOT=/home/admin/erim


LIB_PATH=$(ERIM_ROOT)/bin/tem/ptrace:$(ERIM_ROOT)/bin/tem/libtem:$(ERIM_ROOT)/bin/erim
ERIM_PTRACE=$(ERIM_ROOT)/bin/tem/ptrace/erimptrace


BINDIR=$(ROOT)/bin
BINARY=$(ROOT)/bin/$(EXPLOIT)
EXPLOIT_DIR=$(ROOT)/exploits/$(EXPLOIT)

INC+=\
	-I $(ERIM_ROOT)/src/erim \
	-I $(ROOT)/secure_lib

OBJS+=$(ROOT)/secure_lib/secure_lib.o

all: $(BINARY)

%.o : %.c
	$(CC) -c $(CFLAGS) $(CPPFLAGS) $(INC) $< -o $@

$(BINARY): $(OBJS) $(BINDIR)
	$(CC) $(CFLAGS) $(OBJS) -o $(BINARY) $(LDFLAGS)

$(BINDIR):
	mkdir -p $(BINDIR)

clean:
	rm -f $(EXPLOIT_DIR)/*.o
	rm -f $(BINARY)

